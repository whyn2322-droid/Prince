version: "3.1"

intents:
  - greet
  - goodbye
  - ask_area
  - choose_shape
  - inform
  - restart_area

entities:
  - shape

slots:
  shape:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: shape
        conditions:
          - active_loop: area_form
      - type: from_text
        intent: choose_shape
        conditions:
          - active_loop: area_form
            requested_slot: shape

  length:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: length

  width:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: width

  radius:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: radius

  base:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: base

  height:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: height

  b1:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: b1

  b2:
    type: float
    influence_conversation: false
    mappings:
      - type: from_text
        intent: inform
        conditions:
          - active_loop: area_form
            requested_slot: b2

responses:
  utter_greet:
    - text: "–°–∞–π–Ω —É—É üëã '–¥“Ø—Ä—Å–Ω–∏–π —Ç–∞–ª–±–∞–π –æ–ª' –≥—ç–∂ –±–∏—á—ç—ç–¥ —ç—Ö–ª“Ø“Ø–ª—ç—ç—Ä—ç–π."

  utter_goodbye:
    - text: "–ë–∞—è—Ä—Ç–∞–π üëã"

  utter_how_to_start:
    - text: "–≠—Ö–ª“Ø“Ø–ª—ç—Ö–∏–π–Ω —Ç—É–ª–¥: '–¥“Ø—Ä—Å–Ω–∏–π —Ç–∞–ª–±–∞–π –æ–ª' –≥—ç–∂ –±–∏—á—ç—ç—Ä—ç–π."

  utter_ask_shape:
    - text: "–Ø–º–∞—Ä –¥“Ø—Ä—Å–Ω–∏–π —Ç–∞–ª–±–∞–π –æ–ª–æ—Ö –≤—ç?"
      buttons:
        - title: "–¢—ç–≥—à ”©–Ω—Ü”©–≥—Ç"
          payload: '/choose_shape{{"shape":"rectangle"}}'
        - title: "–¢–æ–π—Ä–æ–≥"
          payload: '/choose_shape{{"shape":"circle"}}'
        - title: "–ì—É—Ä–≤–∞–ª–∂–∏–Ω"
          payload: '/choose_shape{{"shape":"triangle"}}'
        - title: "–¢—Ä–∞–ø–µ—Ü"
          payload: '/choose_shape{{"shape":"trapezoid"}}'
        - title: "–ü–∞—Ä–∞–ª–ª–µ–ª–æ–≥—Ä–∞–º–º"
          payload: '/choose_shape{{"shape":"parallelogram"}}'


  utter_ask_length:
    - text: "–£—Ä—Ç —Ö—ç–¥ –≤—ç? (–∂: 5)"
  utter_ask_width:
    - text: "”®—Ä–≥”©–Ω —Ö—ç–¥ –≤—ç? (–∂: 3)"
  utter_ask_radius:
    - text: "–†–∞–¥–∏—É—Å —Ö—ç–¥ –≤—ç? (–∂: 5)"
  utter_ask_base:
    - text: "–°—É—É—Ä—å —Ö—ç–¥ –≤—ç? (–∂: 6)"
  utter_ask_height:
    - text: "”®–Ω–¥”©—Ä —Ö—ç–¥ –≤—ç? (–∂: 4)"
  utter_ask_b1:
    - text: "–¢—Ä–∞–ø–µ—Ü—ã–Ω —Å—É—É—Ä—å1 —Ö—ç–¥ –≤—ç? (–∂: 6)"
  utter_ask_b2:
    - text: "–¢—Ä–∞–ø–µ—Ü—ã–Ω —Å—É—É—Ä—å2 —Ö—ç–¥ –≤—ç? (–∂: 10)"

forms:
  area_form:
    required_slots:
      - shape
      - length
      - width
      - radius
      - base
      - height
      - b1
      - b2

actions:
  - validate_area_form
  - action_calculate_area
  - action_reset_area

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
